- extends ajax|yesno:'skeleton/ajax.pug,skeleton/main.pug'
- load i18n
- load staticfiles

- block content
  .item.pure-u-1-1.pure-g
    .heading Bans
    //- ban/users

    .row.add.pure-g
      .column.icon.username.pure-u-7-24
        select#username-input
          option(placeholder) Username
      .column.icon.server.pure-u-7-24
        select#server-input
          option(placeholder) Server
      .column.icon.group.pure-u-7-24.input-wrapper
        input#inputduration(type='datetime-local')
        label(for='inputduration')
          i.skip(data-feather='clock')
      .column.icon.pure-u-3-24
      .column.icon.placeholder.pure-u-7-24
      .column.icon.group.pure-u-14-24.input-wrapper
        input#inputdescription(type='text')
        label.fix(for='inputdescription')
          i.skip(data-feather='paperclip')
      .column.icon.pure-u-3-24
        .spacer
        .action
          i(data-feather="plus")
      script.execution.
        var now = new Date()
          , year
          , month
          , date
          , hours
          , minutes
          , seconds
          , formattedDateTime
          ;

        year = now.getFullYear();
        month = now.getMonth().toString().length === 1 ? '0' + (now.getMonth() + 1).toString() : now.getMonth() + 1;
        date = now.getDate().toString().length === 1 ? '0' + (now.getDate()).toString() : now.getDate();
        hours = now.getHours().toString().length === 1 ? '0' + now.getHours().toString() : now.getHours();
        minutes = now.getMinutes().toString().length === 1 ? '0' + now.getMinutes().toString() : now.getMinutes();

        formattedDateTime = year + '-' + month + '-' + date + 'T' + hours + ':' + minutes;
        document.getElementById('inputduration').min = formattedDateTime;
        var usernameinput = new Choices('#username-input', {
          searchPlaceholderValue: "Steam Username",
          choices: [],
          noResultsText: 'Could not find user',
          noChoicesText: 'Type something to query',
          itemSelectText: 'Enter will do it',
        })
        usernameinput.passedElement.addEventListener('search', function(event) {
          console.log(event.detail.value);
        }, false);

        var serverinput = new Choices('#server-input', {
          searchEnabled: false,
          choices: [],
        })
