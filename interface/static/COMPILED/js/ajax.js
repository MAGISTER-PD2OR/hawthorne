// Generated by CoffeeScript 2.1.1
(function() {
  var ajax;

  ajax = function(mode, target = '.main', page = 1) {
    var endpoint, header;
    endpoint = window.endpoint.ajax;
    header = {
      "X-CSRFToken": window.csrftoken
    };
    switch (mode) {
      case "servers[overview]":
        endpoint = window.endpoint.ajax.servers[page];
    }
    endpoint.post(header, {}, function(dummy, response) {
      var data, status;
      status = response.status;
      data = response.data;
      target = $(target);
      if (status === 200) {
        if (page === 1) {
          target.html('');
        }
        target.htmlAppend(data);
        $('script.execute', target).forEach(function(src) {
          return eval(src.innerHTML);
        });
        window.ajax(mode, target, page + 1);
      }
    });
  };

  window.ajax = ajax;

}).call(this);
