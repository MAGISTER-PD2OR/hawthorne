// Generated by CoffeeScript 2.1.1
(function() {
  // view controller
  var load;

  load = function(destination = 'home', scope = '') {
    var endpoint, header, url;
    endpoint = window.endpoint.bare;
    switch (destination) {
      case 'home':
        url = '';
        break;
      case 'servers':
        url = 'servers';
        break;
      case 'servers[detailed]':
        url = `servers/${scope}`;
        break;
      case 'admins[servers]':
        url = 'admins/servers';
        break;
      case 'admins[web]':
        url = 'admins/web';
        break;
      case 'players':
        url = 'players';
        break;
      case 'players[detailed]':
        url = `players/${scope}`;
        break;
      case 'punishments':
        url = '[[PLACEHOLDER]]';
        break;
      case 'punishments[bans]':
        url = 'punishments/bans';
        break;
      case 'punishments[mutes]':
        url = 'punishments/mutes';
        break;
      case 'punishments[gags]':
        url = 'punishments/gags';
        break;
      default:
        return;
    }
    header = {
      'X-CSRFTOKEN': window.csrftoken
    };
    return window.endpoint.bare[url].post(header, {}, function(dummy, response) {
      var data, status;
      status = response.status;
      data = response.data;
      if (status === 200) {
        window.history.pushState(null, null, `/${url}`);
        $('.main')[0].innerHTML = data;
        return $('.main script.execute:not(.evaluated)').forEach(function(scr) {
          return eval(scr.innerHTML);
        });
      }
    });
  };

  window.vc = load;

}).call(this);
