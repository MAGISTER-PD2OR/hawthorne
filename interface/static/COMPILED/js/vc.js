// Generated by CoffeeScript 2.2.2
(function() {
  // view controller
  var ajax, change;

  change = function(destination = 'home') {
    var data, method, url;
    method = 'POST';
    switch (destination) {
      case 'home':
        url = '/';
        break;
      case 'player':
        url = '/players';
        break;
      case 'admin':
        url = '/admins';
        break;
      case 'server':
        url = '/servers';
        break;
      case 'ban':
        url = '/bans';
        break;
      case 'mutegag':
        url = '/mutegags';
        break;
      case 'announcements':
        url = '/announcements';
        break;
      case 'chat':
        url = '/chat';
        break;
      case 'settings':
        url = '/settings';
        break;
      default:
        return false;
    }
    data = {
      csrfmiddlewaretoken: window.csrftoken
    };
    $(data).ajax(url, method, function(data, status) {
      if (status === 200) {
        $("#content").css('opacity', '0');
        setTimeout(function() {
          var i, len, ref, scr;
          $("#content").html(data);
          ref = $("#content script.execution");
          for (i = 0, len = ref.length; i < len; i++) {
            scr = ref[i];
            eval($(scr).html());
          }
          feather.replace();
          return $("#content").css('opacity', '');
        }, 200);
      } else {
        return false;
      }
      window.history.pushState("", "", url);
      return true;
    });
    return true;
  };

  ajax = function(destination, module) {
    return true;
  };

  window.vc = {
    change: change
  };

}).call(this);
